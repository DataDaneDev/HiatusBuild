flowchart LR
    subgraph VEHICLE_12V["Vehicle 12V Charging Path"]
        ALT["Factory alternator\n(240A assumed)"]
        START["Starter battery 12V"]
        F08["F-08 150A\nsealed engine-bay holder"]
        B2B["Sterling BB1248120\n12V->48V (~1.5kW max)"]
        BBR["Sterling BBR remote\ncurrent-limit control"]
        ALT -- "OEM vehicle path, ~2.5 ft" --> START
        START -- "2/0 AWG, ~12 ft" --> F08 --> B2B
        BBR -. "control harness, ~8 ft (ASSUMED)" .- B2B
    end

    subgraph PV_PATH["Solar Path (900W, 3S3P)"]
        PVA["PV String A\n3x100W"]
        PVB["PV String B\n3x100W"]
        PVC["PV String C\n3x100W"]
        F09A["F-09A 15A gPV"]
        F09B["F-09B 15A gPV"]
        F09C["F-09C 15A gPV"]
        COMB["PV combiner enclosure\n3x 10x38 fuse holders"]
        MPPT["Victron SmartSolar\nMPPT 150/45"]
        PVA -- "10 AWG PV, ~8 ft (ASSUMED)" --> F09A --> COMB
        PVB -- "10 AWG PV, ~8 ft (ASSUMED)" --> F09B --> COMB
        PVC -- "10 AWG PV, ~8 ft (ASSUMED)" --> F09C --> COMB
        COMB -- "10 AWG PV +/-, ~12 ft (ASSUMED)" --> MPPT
    end

    subgraph HOUSE_48V["House 48V Core"]
        BATA["Battery A\n48V 100Ah"]
        BATB["Battery B\n48V 100Ah"]
        BATC["Battery C\n48V 100Ah"]
        F01A["F-01A 200A Class T\nBlue Sea block (provisional)"]
        F01B["F-01B 200A Class T\nBlue Sea block (provisional)"]
        F01C["F-01C 200A Class T\nBlue Sea block (provisional)"]
        POSBUS["48V + busbar (battery-side)\ncombine after Class T fuses"]
        NEGBUS["48V - busbar (battery-side)\ncombine before SmartShunt"]
        DISC["48V disconnect\nVictron 275A"]
        SHUNT["SmartShunt 500A\nmain negative path"]
        LYNX["Victron Lynx Distributor M10\n+ bus / - bus / 4 MEGA slots"]
        MULTI["MultiPlus-II\n48/3000/35-50"]
        ORION["Orion-Tr Smart 48/12-30\nIsolated charger"]
        F06["F-06 20A (or 23A)\ninline >=58V holder"]
    end

    BATA -- "2/0 AWG +, ~2.5 ft" --> F01A --> POSBUS
    BATB -- "2/0 AWG +, ~2.5 ft" --> F01B --> POSBUS
    BATC -- "2/0 AWG +, ~2.5 ft" --> F01C --> POSBUS
    POSBUS -- "2/0 AWG +, ~2.5 ft" --> DISC
    DISC -- "2/0 AWG +, ~2.5 ft" --> LYNX

    BATA -- "2/0 AWG -, ~2.5 ft" --> NEGBUS
    BATB -- "2/0 AWG -, ~2.5 ft" --> NEGBUS
    BATC -- "2/0 AWG -, ~2.5 ft" --> NEGBUS
    NEGBUS -- "2/0 AWG -, ~2.5 ft" --> SHUNT
    SHUNT -- "2/0 AWG -, ~2.5 ft" --> LYNX
    LYNX -. "OEM sense harness, ~2.5 ft" .- SHUNT

    LYNX -- "Slot 1: F-02 125A MEGA\n2/0 AWG +, ~2.5 ft" --> MULTI
    MULTI -- "2/0 AWG -, ~2.5 ft" --> LYNX

    MPPT -- "BAT+ via Slot 2: F-03 60A MEGA\n6 AWG, ~2.5 ft" --> LYNX
    MPPT -- "BAT- 6 AWG, ~2.5 ft" --> LYNX

    B2B -- "OUT+ via Slot 3: F-04 40A MEGA\n6 AWG, ~2.5 ft" --> LYNX
    B2B -- "OUT- 6 AWG, ~2.5 ft" --> LYNX

    LYNX -- "Slot 4: F-05 30A MEGA\n6 AWG, ~2.5 ft" --> F06 --> ORION
    ORION -- "48V input - (6 AWG, ~2.5 ft)" --> LYNX
